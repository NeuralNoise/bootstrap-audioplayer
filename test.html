<!doctype html>
<html>
  <head>
    <!-- <link rel='stylesheet/less' type='text/css' href='../less/audioplayer.less'/> -->
    <link rel='stylesheet' type='text/css' href='bootstrap/css/bootstrap.min.css'/>
    <script type='text/javascript' src='http://lesscss.googlecode.com/files/less-1.3.0.min.js'></script>
  </head>
  <body>

    <div class='container'>
      <div class='row'>
        <div class='span4 offset4'>
          <div class='ap'>
            <div class='cover-art' style='text-align:center'>
              <audio></audio>
              <img src='img/no-album-art.png' />
              <div class='title'></div>
            </div>
            <p class='track-info'>
            <span class="track-progress">
              <input type="range" min="0" max="100" value="0" data-highlight='true' />
            </span>
            <span class="timer"></span>
            </p>
            <div class='playback btn-group'>
              <button class='prev btn' ><i class='icon-step-backward'></i></button>
              <button class='play btn' ><i class='icon-pause'></i></button>
              <button class='next btn' ><i class='icon-step-forward'></i></button>
            </div>
            <canvas id='visualizer' width='300' height='300'></canvas>
            <div id='three'></div>
          </div>
        </div>
      </div>
    </div>

    <script type='text/javascript' src='http://code.jquery.com/jquery-1.9.0.min.js'></script>
    <script type='text/javascript' src='bootstrap/js/bootstrap.min.js'></script>
    <script type='text/javascript' src='../js/bootstrap-audioplayer.js'></script>
    <script type='text/javascript' src='../js/three.min.js'></script>
    <script type="text/javascript">
      $(function () {
        var $audioPlayer = $('.ap');
        $audioPlayer.audioplayer({
          songs: [
            {
              title: 'Blind Willie',
              url: 'music/blind_willie.mp3'
            },
            {
              title: 'Ein Prosit',
              url: 'music/Ein Prosit.mp3'
            },
            {
              title: 'Hail to the Chief',
              url: 'music/Hail to the Chief.mp3'
            }
          ],
          autoplay: true
        });

        // set the scene size
        var WIDTH = 400,
          HEIGHT = 300;

        // set some camera attributes
        var VIEW_ANGLE = 45,
          ASPECT = WIDTH / HEIGHT,
          NEAR = 0.1,
          FAR = 10000;

        // get the DOM element to attach to
        // - assume we've got jQuery to hand
        var $container = $('#three');

        // create a WebGL renderer, camera
        // and a scene
        var renderer = new THREE.WebGLRenderer();
        var camera =
          new THREE.PerspectiveCamera(
            VIEW_ANGLE,
            ASPECT,
            NEAR,
            FAR);

        var scene = new THREE.Scene();

        // add the camera to the scene
        scene.add(camera);

        // the camera starts at 0,0,0
        // so pull it back
        camera.position.z = 300;

        // start the renderer
        renderer.setSize(WIDTH, HEIGHT);

        // attach the render-supplied DOM element
        $container.append(renderer.domElement);

        // create the sphere's material
        var sphereMaterial =
          new THREE.MeshLambertMaterial(
            {
              color: 0xCC0000
            });
        // create a point light
        var pointLight =
          new THREE.PointLight(0xFFFFFF);

        // set its position
        pointLight.position.x = 50;
        pointLight.position.y = 50;
        pointLight.position.z = 130;

        // add to the scene
        scene.add(pointLight);

        // set up the sphere vars
        var radius = 50,
            segments = 16,
            rings = 16;

        // create a new mesh with
        // sphere geometry - we will cover
        // the sphereMaterial next!
        var sphere = new THREE.Mesh(

          new THREE.SphereGeometry(
            radius,
            segments,
            rings),

          sphereMaterial);

        // add the sphere to the scene
        scene.add(sphere);
        // draw!
        renderer.render(scene, camera);
      });
    </script>
  </body>
</html>
